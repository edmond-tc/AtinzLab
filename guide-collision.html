<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0a0e1a">
<title>Guide ‚Äî Collision de Sph√®res ¬∑ SimLab</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800;900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0a0e1a; --surface:#111827; --surface2:#1a2540;
  --border:rgba(99,179,237,0.15); --border2:rgba(99,179,237,0.35);
  --blue:#63b3ed; --cyan:#00e5ff; --orange:#ff7043;
  --green:#00e676; --yellow:#ffd740; --red:#ff1744;
  --text:#e8f4fd; --muted:#7a9bbf;
  --font:'Outfit',sans-serif; --mono:'JetBrains Mono',monospace;
  --radius:12px;
}
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{font-family:var(--font);background:var(--bg);color:var(--text);line-height:1.7;overflow-x:hidden;}

/* BG ANIM√â */
body::before{content:'';position:fixed;inset:0;
  background:radial-gradient(ellipse 60% 40% at 20% 20%,rgba(0,71,171,0.1) 0%,transparent 60%),
             radial-gradient(ellipse 50% 30% at 80% 80%,rgba(0,180,216,0.07) 0%,transparent 60%);
  pointer-events:none;z-index:0;}

/* HEADER */
header{position:sticky;top:0;z-index:100;padding:12px 20px;
  background:rgba(10,14,26,0.95);backdrop-filter:blur(16px);
  border-bottom:1px solid var(--border);display:flex;align-items:center;
  justify-content:space-between;gap:12px;}
.logo{font-weight:800;font-size:1.1rem;display:flex;align-items:center;gap:6px;text-decoration:none;color:var(--text);}
.logo span{color:var(--cyan);}
.guide-badge{font-size:0.75rem;padding:4px 12px;border-radius:20px;
  background:rgba(0,229,255,0.1);border:1px solid rgba(0,229,255,0.3);color:var(--cyan);font-weight:600;}
.btn-sim{padding:8px 16px;border-radius:8px;border:none;background:var(--green);
  color:#000;font-family:var(--font);font-size:0.82rem;font-weight:700;
  cursor:pointer;text-decoration:none;display:flex;align-items:center;gap:5px;transition:all 0.2s;}
.btn-sim:hover{transform:translateY(-1px);box-shadow:0 4px 15px rgba(0,230,118,0.3);}

/* PROGRESS BAR */
#progress-bar{position:fixed;top:0;left:0;height:3px;background:linear-gradient(90deg,var(--cyan),var(--green));
  z-index:200;transition:width 0.2s;width:0%;}

/* LAYOUT */
.page{position:relative;z-index:1;max-width:780px;margin:0 auto;padding:30px 20px 80px;}

/* TABLE DES MATI√àRES */
.toc{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);
  padding:20px 24px;margin-bottom:40px;}
.toc-title{font-size:0.75rem;color:var(--cyan);text-transform:uppercase;letter-spacing:0.1em;
  font-weight:700;margin-bottom:14px;}
.toc-list{list-style:none;display:flex;flex-direction:column;gap:6px;}
.toc-list a{text-decoration:none;color:var(--muted);font-size:0.88rem;display:flex;
  align-items:center;gap:8px;padding:4px 0;border-bottom:1px solid transparent;transition:all 0.2s;}
.toc-list a:hover{color:var(--cyan);padding-left:6px;}
.toc-num{font-family:var(--mono);font-size:0.75rem;color:var(--surface2);
  background:var(--surface2);width:22px;height:22px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;border:1px solid var(--border2);
  color:var(--cyan);flex-shrink:0;}

/* SECTIONS */
.section{margin-bottom:50px;scroll-margin-top:80px;}
.section-tag{display:inline-block;padding:3px 12px;border:1px solid var(--border2);
  border-radius:20px;font-size:0.72rem;color:var(--cyan);margin-bottom:10px;
  text-transform:uppercase;letter-spacing:0.1em;font-weight:600;}
.section h2{font-size:clamp(1.4rem,4vw,2rem);font-weight:800;letter-spacing:-0.02em;margin-bottom:16px;}
.section p{color:var(--muted);font-size:0.92rem;margin-bottom:14px;}
.section p strong{color:var(--text);}

/* CARDS INFO */
.info-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);
  padding:18px 20px;margin-bottom:14px;}
.info-card.blue  {border-left:3px solid var(--blue);}
.info-card.orange{border-left:3px solid var(--orange);}
.info-card.green {border-left:3px solid var(--green);}
.info-card.yellow{border-left:3px solid var(--yellow);}
.info-card.red   {border-left:3px solid var(--red);}
.info-card h3{font-size:0.95rem;font-weight:700;margin-bottom:8px;}
.info-card.blue h3  {color:var(--blue);}
.info-card.orange h3{color:var(--orange);}
.info-card.green h3 {color:var(--green);}
.info-card.yellow h3{color:var(--yellow);}
.info-card.red h3   {color:var(--red);}
.info-card p{color:var(--muted);font-size:0.875rem;margin:0;}

/* FORMULES */
.formula-box{background:rgba(0,0,0,0.35);border:1px solid var(--border2);border-radius:10px;
  padding:14px 18px;margin:14px 0;overflow-x:auto;}
.formula-box .formula{font-family:var(--mono);font-size:0.95rem;color:var(--yellow);
  white-space:nowrap;display:block;margin-bottom:6px;}
.formula-box .desc{font-size:0.78rem;color:var(--muted);}

/* √âTAPES */
.steps{display:flex;flex-direction:column;gap:12px;margin:16px 0;}
.step{display:flex;gap:14px;align-items:flex-start;}
.step-num{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,var(--cyan),var(--blue));
  color:#000;font-weight:800;font-size:0.85rem;display:flex;align-items:center;
  justify-content:center;flex-shrink:0;margin-top:2px;}
.step-body h4{font-size:0.9rem;font-weight:700;margin-bottom:4px;color:var(--text);}
.step-body p{font-size:0.82rem;color:var(--muted);margin:0;}

/* COMPARATIF TABLE */
.compare-table{width:100%;border-collapse:collapse;margin:16px 0;font-size:0.83rem;}
.compare-table th{background:var(--surface2);color:var(--cyan);padding:10px 14px;
  text-align:left;font-weight:700;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.07em;}
.compare-table td{padding:10px 14px;border-bottom:1px solid var(--border);color:var(--muted);}
.compare-table td:first-child{color:var(--text);font-weight:600;}
.compare-table tr:last-child td{border-bottom:none;}
.badge{display:inline-block;padding:2px 8px;border-radius:10px;font-size:0.72rem;font-weight:700;}
.b-green {background:rgba(0,230,118,0.15);color:var(--green);}
.b-orange{background:rgba(255,112,67,0.15);color:var(--orange);}
.b-red   {background:rgba(255,23,68,0.15); color:var(--red);}
.b-blue  {background:rgba(99,179,237,0.15);color:var(--blue);}

/* QUIZ INTERACTIF */
.quiz-card{background:var(--surface);border:1px solid var(--border2);border-radius:var(--radius);
  padding:20px;margin-bottom:12px;}
.quiz-q{font-size:0.92rem;font-weight:600;margin-bottom:14px;color:var(--text);}
.quiz-options{display:flex;flex-direction:column;gap:8px;}
.quiz-opt{padding:10px 14px;border-radius:8px;border:1px solid var(--border);
  background:var(--surface2);color:var(--muted);cursor:pointer;
  font-size:0.85rem;font-family:var(--font);text-align:left;
  transition:all 0.2s;width:100%;}
.quiz-opt:hover{border-color:var(--border2);color:var(--text);}
.quiz-opt.correct{background:rgba(0,230,118,0.15);border-color:var(--green);color:var(--green);}
.quiz-opt.wrong  {background:rgba(255,23,68,0.12); border-color:var(--red);color:var(--red);}
.quiz-feedback{font-size:0.82rem;margin-top:10px;padding:8px 12px;border-radius:8px;display:none;}
.quiz-feedback.show{display:block;}
.quiz-feedback.ok  {background:rgba(0,230,118,0.1);color:var(--green);}
.quiz-feedback.ko  {background:rgba(255,23,68,0.1); color:var(--red);}

/* MINI DEMO CANVAS */
.demo-wrap{background:var(--surface2);border:1px solid var(--border);border-radius:var(--radius);
  overflow:hidden;margin:16px 0;position:relative;}
.demo-canvas{width:100%;height:160px;display:block;}
.demo-label{position:absolute;top:8px;left:12px;font-size:0.7rem;color:var(--muted);
  background:rgba(10,14,26,0.8);padding:3px 8px;border-radius:10px;}
.demo-ctrl{display:flex;gap:8px;padding:10px 12px;border-top:1px solid var(--border);flex-wrap:wrap;}
.demo-btn{padding:6px 12px;border-radius:6px;border:1px solid var(--border);
  background:var(--surface);color:var(--muted);font-size:0.75rem;font-weight:600;
  cursor:pointer;font-family:var(--font);transition:all 0.2s;}
.demo-btn:hover{border-color:var(--cyan);color:var(--cyan);}
.demo-btn.active{background:rgba(0,229,255,0.1);border-color:var(--cyan);color:var(--cyan);}

/* CONSEIL BOX */
.tip-box{display:flex;gap:12px;padding:14px 16px;background:rgba(0,229,255,0.06);
  border:1px solid rgba(0,229,255,0.2);border-radius:10px;margin:14px 0;}
.tip-icon{font-size:1.3rem;flex-shrink:0;}
.tip-body{font-size:0.83rem;color:var(--muted);}
.tip-body strong{color:var(--cyan);}

/* NAVIGATION BAS */
.nav-bottom{display:flex;justify-content:space-between;gap:12px;margin-top:40px;flex-wrap:wrap;}
.nav-btn{padding:12px 20px;border-radius:10px;border:1px solid var(--border2);
  background:var(--surface);color:var(--text);text-decoration:none;
  font-size:0.85rem;font-weight:600;transition:all 0.2s;display:flex;align-items:center;gap:6px;}
.nav-btn:hover{background:var(--surface2);border-color:var(--cyan);}
.nav-btn.primary{background:linear-gradient(135deg,rgba(0,71,171,0.4),rgba(0,180,216,0.3));border-color:var(--cyan);}

/* SCROLL TO TOP */
#scrolltop{position:fixed;bottom:24px;right:24px;width:42px;height:42px;
  border-radius:50%;background:var(--surface2);border:1px solid var(--border2);
  color:var(--cyan);font-size:1rem;cursor:pointer;display:flex;align-items:center;
  justify-content:center;opacity:0;transition:all 0.3s;z-index:100;}
#scrolltop.show{opacity:1;}
#scrolltop:hover{background:rgba(0,229,255,0.1);}

@media(max-width:500px){
  .page{padding:20px 14px 60px;}
  .compare-table{font-size:0.75rem;}
  .compare-table th,.compare-table td{padding:8px 10px;}
}
</style>
</head>
<body>

<div id="progress-bar"></div>

<!-- HEADER -->
<header>
  <a href="index.html" class="logo">‚öóÔ∏è Sim<span>Lab</span></a>
  <span class="guide-badge">üìñ Guide Interactif</span>
  <a href="collision.html" class="btn-sim">üöÄ Lancer la Simulation</a>
</header>

<div class="page">

  <!-- HERO -->
  <div class="section" style="text-align:center;padding:20px 0 10px;">
    <div class="section-tag">M√©canique ¬∑ Physique</div>
    <h2 style="font-size:clamp(1.8rem,6vw,2.8rem);">Collision de Sph√®res</h2>
    <p style="max-width:560px;margin:0 auto 20px;font-size:0.95rem;">
      Ce guide t'explique tout ce que tu dois savoir pour utiliser la simulation,
      comprendre la physique derri√®re et r√©ussir tes exercices de labo.
    </p>
    <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
      <span style="font-size:0.78rem;padding:4px 12px;border-radius:20px;background:rgba(0,230,118,0.1);border:1px solid rgba(0,230,118,0.25);color:var(--green);">‚è± Lecture 8 min</span>
      <span style="font-size:0.78rem;padding:4px 12px;border-radius:20px;background:rgba(99,179,237,0.1);border:1px solid rgba(99,179,237,0.25);color:var(--blue);">üéì Lyc√©e ¬∑ Universit√©</span>
      <span style="font-size:0.78rem;padding:4px 12px;border-radius:20px;background:rgba(255,215,64,0.1);border:1px solid rgba(255,215,64,0.25);color:var(--yellow);">üìê 4 Quiz inclus</span>
    </div>
  </div>

  <!-- TABLE DES MATI√àRES -->
  <div class="toc">
    <div class="toc-title">üìã Sommaire</div>
    <ul class="toc-list">
      <li><a href="#intro"><span class="toc-num">1</span>C'est quoi une collision ?</a></li>
      <li><a href="#types"><span class="toc-num">2</span>Les 3 types de collision</a></li>
      <li><a href="#formules"><span class="toc-num">3</span>Formules essentielles</a></li>
      <li><a href="#utiliser"><span class="toc-num">4</span>Comment utiliser la simulation</a></li>
      <li><a href="#demo"><span class="toc-num">5</span>D√©mo interactive</a></li>
      <li><a href="#experiences"><span class="toc-num">6</span>Exp√©riences √† r√©aliser</a></li>
      <li><a href="#quiz"><span class="toc-num">7</span>Quiz de compr√©hension</a></li>
    </ul>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- SECTION 1 : INTRO                        -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="section" id="intro">
    <div class="section-tag">Section 1</div>
    <h2>C'est quoi une collision ?</h2>
    <p>Une <strong>collision</strong> est une interaction de courte dur√©e entre deux corps qui se rapprochent et exercent des forces importantes l'un sur l'autre pendant un bref instant.</p>

    <div class="info-card blue">
      <h3>‚ö° Principe fondamental</h3>
      <p>Pendant la collision, les forces ext√©rieures (frottements, pesanteur‚Ä¶) sont n√©gligeables devant les forces d'interaction entre les corps. Le syst√®me est donc consid√©r√© comme <strong>isol√©</strong>.</p>
    </div>

    <p>En physique, on distingue deux grandeurs cl√©s qui caract√©risent le mouvement :</p>

    <div class="formula-box">
      <span class="formula">p = m √ó v</span>
      <span class="desc">Quantit√© de mouvement (kg¬∑m/s) ‚Äî p : quantit√© de mvt ¬∑ m : masse (kg) ¬∑ v : vitesse (m/s)</span>
    </div>
    <div class="formula-box">
      <span class="formula">Ec = ¬Ω √ó m √ó v¬≤</span>
      <span class="desc">√ânergie cin√©tique (Joules) ‚Äî mesure l'√©nergie due au mouvement du corps</span>
    </div>

    <div class="tip-box">
      <span class="tip-icon">üí°</span>
      <div class="tip-body"><strong>√Ä retenir :</strong> La quantit√© de mouvement est toujours conserv√©e lors d'une collision. L'√©nergie cin√©tique, elle, peut √™tre perdue (transform√©e en chaleur, son, d√©formation).</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- SECTION 2 : TYPES                        -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="section" id="types">
    <div class="section-tag">Section 2</div>
    <h2>Les 3 types de collision</h2>

    <table class="compare-table">
      <thead>
        <tr>
          <th>Type</th>
          <th>Coefficient e</th>
          <th>√ânergie Ec</th>
          <th>Exemple r√©el</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>üîµ √âlastique</td>
          <td><span class="badge b-green">e = 1</span></td>
          <td><span class="badge b-green">Conserv√©e</span></td>
          <td>Billes acier, neutrons</td>
        </tr>
        <tr>
          <td>üü† In√©lastique</td>
          <td><span class="badge b-orange">0 &lt; e &lt; 1</span></td>
          <td><span class="badge b-orange">Partiellement perdue</span></td>
          <td>Balle de tennis, voitures</td>
        </tr>
        <tr>
          <td>‚ö´ Parfaitement in√©l.</td>
          <td><span class="badge b-red">e = 0</span></td>
          <td><span class="badge b-red">Max. perdue</span></td>
          <td>Argile, crash test, fusion</span></td>
        </tr>
      </tbody>
    </table>

    <div class="info-card green">
      <h3>‚úÖ Collision √©lastique</h3>
      <p>Les deux corps rebondissent sans d√©formation permanente. L'√©nergie cin√©tique totale avant = apr√®s. C'est un mod√®le id√©al (billes en acier tremp√© s'en approchent).</p>
    </div>
    <div class="info-card orange">
      <h3>‚ö†Ô∏è Collision in√©lastique partielle</h3>
      <p>Les corps se d√©forment l√©g√®rement et reprennent √† peu pr√®s leur forme. Une partie de l'√©nergie est dissip√©e en chaleur et son. C'est le cas le plus fr√©quent dans la r√©alit√©.</p>
    </div>
    <div class="info-card red">
      <h3>üî• Collision parfaitement in√©lastique</h3>
      <p>Les deux corps restent coll√©s ensemble apr√®s la collision et se d√©placent √† la m√™me vitesse. C'est la perte d'√©nergie maximale (compatible avec la conservation de la quantit√© de mouvement).</p>
    </div>

    <div class="tip-box">
      <span class="tip-icon">üî¨</span>
      <div class="tip-body"><strong>Coefficient de restitution e :</strong> mesure le rapport des vitesses relatives apr√®s/avant. Plus e est proche de 1, plus la collision est √©lastique. On le mesure exp√©rimentalement en labo.</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- SECTION 3 : FORMULES                     -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="section" id="formules">
    <div class="section-tag">Section 3</div>
    <h2>Formules essentielles</h2>

    <div class="info-card yellow">
      <h3>üìå Conservation de la quantit√© de mouvement</h3>
      <p>Valable pour TOUS les types de collision :</p>
    </div>
    <div class="formula-box">
      <span class="formula">m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ = m‚ÇÅv‚ÇÅ' + m‚ÇÇv‚ÇÇ'</span>
      <span class="desc">v‚ÇÅ, v‚ÇÇ = vitesses avant ¬∑ v‚ÇÅ', v‚ÇÇ' = vitesses apr√®s ¬∑ m‚ÇÅ, m‚ÇÇ = masses</span>
    </div>

    <div class="info-card blue">
      <h3>üîµ Vitesses apr√®s collision √©lastique</h3>
    </div>
    <div class="formula-box">
      <span class="formula">v‚ÇÅ' = [(m‚ÇÅ-m‚ÇÇ)v‚ÇÅ + 2m‚ÇÇv‚ÇÇ] / (m‚ÇÅ+m‚ÇÇ)</span>
      <span class="desc">Vitesse de la sph√®re 1 apr√®s la collision √©lastique</span>
    </div>
    <div class="formula-box">
      <span class="formula">v‚ÇÇ' = [(m‚ÇÇ-m‚ÇÅ)v‚ÇÇ + 2m‚ÇÅv‚ÇÅ] / (m‚ÇÅ+m‚ÇÇ)</span>
      <span class="desc">Vitesse de la sph√®re 2 apr√®s la collision √©lastique</span>
    </div>

    <div class="info-card red">
      <h3>‚ö´ Vitesse apr√®s collision parfaitement in√©lastique</h3>
    </div>
    <div class="formula-box">
      <span class="formula">v' = (m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ) / (m‚ÇÅ+m‚ÇÇ)</span>
      <span class="desc">Vitesse commune des deux corps fusionn√©s</span>
    </div>

    <div class="info-card orange">
      <h3>üìê Coefficient de restitution</h3>
    </div>
    <div class="formula-box">
      <span class="formula">e = |v‚ÇÇ' - v‚ÇÅ'| / |v‚ÇÅ - v‚ÇÇ|</span>
      <span class="desc">Rapport des vitesses relatives de s√©paration / approche ¬∑ e ‚àà [0, 1]</span>
    </div>

    <div class="tip-box">
      <span class="tip-icon">üìù</span>
      <div class="tip-body"><strong>Convention de signe :</strong> dans la simulation, les vitesses vers la droite sont <strong style="color:var(--green);">positives (+)</strong> et vers la gauche <strong style="color:var(--red);">n√©gatives (‚àí)</strong>. Respecte bien ce signe dans tes calculs !</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- SECTION 4 : UTILISER LA SIMULATION       -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="section" id="utiliser">
    <div class="section-tag">Section 4</div>
    <h2>Comment utiliser la simulation</h2>

    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <div class="step-body">
          <h4>Choisir le type de collision</h4>
          <p>En haut de l'onglet Param√®tres, s√©lectionne <em>√âlastique</em>, <em>In√©lastique</em> ou <em>Parfaitement in√©lastique</em> selon l'exp√©rience que tu veux r√©aliser.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <div class="step-body">
          <h4>R√©gler les param√®tres des sph√®res</h4>
          <p>Utilise les sliders pour ajuster la <strong>masse</strong> (0.5 √† 5 kg), la <strong>vitesse initiale</strong> (‚àí8 √† +8 m/s) et le <strong>rayon</strong> de chaque sph√®re. Les fl√®ches bleues/oranges indiquent la vitesse en temps r√©el.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <div class="step-body">
          <h4>Lancer la simulation</h4>
          <p>Clique sur <strong style="color:var(--green);">‚ñ∂ Lancer</strong>. Observe les sph√®res se d√©placer, les fl√®ches changer de direction et les particules d'impact s'afficher.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">4</div>
        <div class="step-body">
          <h4>Lire les r√©sultats</h4>
          <p>Le panneau r√©sultats (haut droit) affiche automatiquement : la variation de quantit√© de mouvement Œîp, l'√©nergie cin√©tique avant/apr√®s, et le type de collision d√©tect√©.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">5</div>
        <div class="step-body">
          <h4>Consulter les mesures d√©taill√©es</h4>
          <p>Va dans l'onglet <strong>üìê Mesures</strong> pour voir p‚ÇÅ, p‚ÇÇ, Ec‚ÇÅ, Ec‚ÇÇ avant et apr√®s, ainsi que les vitesses finales v‚ÇÅ' et v‚ÇÇ'.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">6</div>
        <div class="step-body">
          <h4>Contr√¥le de la cam√©ra 3D</h4>
          <p>Sur mobile : <strong>1 doigt</strong> pour tourner autour de la sc√®ne ¬∑ <strong>2 doigts (pincer)</strong> pour zoomer. Sur PC : <strong>clic-glisser</strong> pour tourner ¬∑ <strong>molette</strong> pour zoomer.</p>
        </div>
      </div>
    </div>

    <div class="tip-box">
      <span class="tip-icon">üéØ</span>
      <div class="tip-body"><strong>Astuce :</strong> Mets v‚ÇÇ = 0 (sph√®re 2 au repos) pour reproduire les exp√©riences classiques du cours. C'est le cas le plus simple √† analyser !</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- SECTION 5 : DEMO INTERACTIVE             -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="section" id="demo">
    <div class="section-tag">Section 5</div>
    <h2>D√©mo interactive</h2>
    <p>Visualise ci-dessous le comportement des sph√®res selon le type de collision. Clique sur un type pour voir la diff√©rence :</p>

    <div class="demo-wrap">
      <canvas id="demo-canvas" class="demo-canvas"></canvas>
      <div class="demo-label" id="demo-label">üîµ √âlastique ‚Äî e = 1</div>
      <div class="demo-ctrl">
        <button class="demo-btn active" onclick="setDemo('elastique', this)">üîµ √âlastique</button>
        <button class="demo-btn" onclick="setDemo('inelastique', this)">üü† In√©lastique</button>
        <button class="demo-btn" onclick="setDemo('parfait', this)">‚ö´ Parfait in√©l.</button>
        <button class="demo-btn" onclick="replayDemo()">‚Ü∫ Rejouer</button>
      </div>
    </div>

    <div class="info-card blue" id="demo-info-elastique">
      <h3>üîµ Ce que tu observes : √âlastique</h3>
      <p>Les deux sph√®res rebondissent. Si m‚ÇÅ = m‚ÇÇ, elles √©changent exactement leurs vitesses (sph√®re 1 s'arr√™te, sph√®re 2 part √† la m√™me vitesse). C'est le pendule de Newton !</p>
    </div>
    <div class="info-card orange" id="demo-info-inelastique" style="display:none;">
      <h3>üü† Ce que tu observes : In√©lastique partielle</h3>
      <p>Les sph√®res rebondissent mais avec moins d'√©lan qu'avant. Une partie de l'√©nergie a √©t√© absorb√©e. Les vitesses finales sont entre celles de l'√©lastique et du parfaitement in√©lastique.</p>
    </div>
    <div class="info-card red" id="demo-info-parfait" style="display:none;">
      <h3>‚ö´ Ce que tu observes : Parfaitement in√©lastique</h3>
      <p>Les deux sph√®res s'accrochent et repartent ensemble √† une vitesse unique v'. La perte d'√©nergie est maximale. La couleur change pour indiquer la fusion.</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- SECTION 6 : EXP√âRIENCES                  -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="section" id="experiences">
    <div class="section-tag">Section 6</div>
    <h2>Exp√©riences √† r√©aliser</h2>
    <p>Voici 4 exp√©riences guid√©es √† faire dans la simulation pour approfondir ta compr√©hension :</p>

    <div class="info-card blue" style="margin-bottom:10px;">
      <h3>üß™ Exp√©rience 1 ‚Äî Masses √©gales, collision √©lastique</h3>
      <p>R√®gle m‚ÇÅ = m‚ÇÇ = 1 kg ¬∑ v‚ÇÅ = +4 m/s ¬∑ v‚ÇÇ = 0 m/s ¬∑ Type : √âlastique.<br>
      <strong>Observation attendue :</strong> v‚ÇÅ' = 0 m/s et v‚ÇÇ' = +4 m/s. La sph√®re 1 s'arr√™te compl√®tement !</p>
    </div>
    <div class="info-card orange" style="margin-bottom:10px;">
      <h3>üß™ Exp√©rience 2 ‚Äî Masse 1 >> Masse 2, √©lastique</h3>
      <p>R√®gle m‚ÇÅ = 5 kg ¬∑ m‚ÇÇ = 0.5 kg ¬∑ v‚ÇÅ = +3 m/s ¬∑ v‚ÇÇ = 0.<br>
      <strong>Observation attendue :</strong> La sph√®re lourde continue presque sans changer ¬∑ la l√©g√®re part tr√®s vite (~+6 m/s).</p>
    </div>
    <div class="info-card green" style="margin-bottom:10px;">
      <h3>üß™ Exp√©rience 3 ‚Äî Choc frontal, vitesses oppos√©es</h3>
      <p>R√®gle m‚ÇÅ = m‚ÇÇ = 2 kg ¬∑ v‚ÇÅ = +3 m/s ¬∑ v‚ÇÇ = ‚àí3 m/s ¬∑ Type : √âlastique.<br>
      <strong>Observation attendue :</strong> Les sph√®res repartent exactement en sens inverse : v‚ÇÅ' = ‚àí3 m/s ¬∑ v‚ÇÇ' = +3 m/s.</p>
    </div>
    <div class="info-card red" style="margin-bottom:10px;">
      <h3>üß™ Exp√©rience 4 ‚Äî Fusion totale</h3>
      <p>R√®gle m‚ÇÅ = 2 kg ¬∑ v‚ÇÅ = +4 m/s ¬∑ m‚ÇÇ = 3 kg ¬∑ v‚ÇÇ = ‚àí1 m/s ¬∑ Type : Parfaitement in√©lastique.<br>
      <strong>Calcule d'abord :</strong> v' = (2√ó4 + 3√ó(‚àí1)) / (2+3) = 5/5 = <strong>+1 m/s</strong>. V√©rifie avec la simulation !</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- SECTION 7 : QUIZ                         -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="section" id="quiz">
    <div class="section-tag">Section 7</div>
    <h2>Quiz de compr√©hension</h2>
    <p>Teste tes connaissances avec ces 4 questions :</p>

    <!-- Q1 -->
    <div class="quiz-card">
      <div class="quiz-q">‚ùì Q1 ‚Äî Lors d'une collision √©lastique entre deux corps, qu'est-ce qui est conserv√© ?</div>
      <div class="quiz-options">
        <button class="quiz-opt" onclick="answer(this, false, 'q1')">A. Seulement la quantit√© de mouvement</button>
        <button class="quiz-opt" onclick="answer(this, true,  'q1')">B. La quantit√© de mouvement ET l'√©nergie cin√©tique</button>
        <button class="quiz-opt" onclick="answer(this, false, 'q1')">C. Seulement l'√©nergie cin√©tique</button>
        <button class="quiz-opt" onclick="answer(this, false, 'q1')">D. Rien n'est conserv√©</button>
      </div>
      <div class="quiz-feedback" id="fb-q1"></div>
    </div>

    <!-- Q2 -->
    <div class="quiz-card">
      <div class="quiz-q">‚ùì Q2 ‚Äî Deux sph√®res identiques (m = 1 kg) : v‚ÇÅ = +5 m/s, v‚ÇÇ = 0. Collision √©lastique. Quelle est v‚ÇÅ' apr√®s ?</div>
      <div class="quiz-options">
        <button class="quiz-opt" onclick="answer(this, false, 'q2')">A. +5 m/s</button>
        <button class="quiz-opt" onclick="answer(this, false, 'q2')">B. +2.5 m/s</button>
        <button class="quiz-opt" onclick="answer(this, true,  'q2')">C. 0 m/s</button>
        <button class="quiz-opt" onclick="answer(this, false, 'q2')">D. ‚àí5 m/s</button>
      </div>
      <div class="quiz-feedback" id="fb-q2"></div>
    </div>

    <!-- Q3 -->
    <div class="quiz-card">
      <div class="quiz-q">‚ùì Q3 ‚Äî Le coefficient de restitution e d'une collision parfaitement in√©lastique vaut :</div>
      <div class="quiz-options">
        <button class="quiz-opt" onclick="answer(this, false, 'q3')">A. e = 1</button>
        <button class="quiz-opt" onclick="answer(this, false, 'q3')">B. e = 0.5</button>
        <button class="quiz-opt" onclick="answer(this, true,  'q3')">C. e = 0</button>
        <button class="quiz-opt" onclick="answer(this, false, 'q3')">D. e > 1</button>
      </div>
      <div class="quiz-feedback" id="fb-q3"></div>
    </div>

    <!-- Q4 -->
    <div class="quiz-card">
      <div class="quiz-q">‚ùì Q4 ‚Äî m‚ÇÅ = 3 kg, v‚ÇÅ = +2 m/s ¬∑ m‚ÇÇ = 1 kg, v‚ÇÇ = ‚àí2 m/s. Collision parfaitement in√©lastique. Quelle est la vitesse commune v' ?</div>
      <div class="quiz-options">
        <button class="quiz-opt" onclick="answer(this, true,  'q4')">A. +1 m/s</button>
        <button class="quiz-opt" onclick="answer(this, false, 'q4')">B. 0 m/s</button>
        <button class="quiz-opt" onclick="answer(this, false, 'q4')">C. +2 m/s</button>
        <button class="quiz-opt" onclick="answer(this, false, 'q4')">D. ‚àí1 m/s</button>
      </div>
      <div class="quiz-feedback" id="fb-q4"></div>
    </div>

    <div id="score-box" style="display:none;background:var(--surface2);border:1px solid var(--border2);border-radius:var(--radius);padding:16px;text-align:center;margin-top:16px;">
      <div style="font-size:2rem;margin-bottom:6px;" id="score-emoji">üéâ</div>
      <div style="font-family:var(--mono);font-size:1.4rem;font-weight:700;color:var(--yellow);" id="score-val">0/4</div>
      <div style="font-size:0.85rem;color:var(--muted);margin-top:4px;" id="score-msg"></div>
    </div>
  </div>

  <!-- NAVIGATION BAS -->
  <div class="nav-bottom">
    <a href="index.html" class="nav-btn">‚Üê Retour au catalogue</a>
    <a href="collision.html" class="nav-btn primary">üöÄ Lancer la simulation ‚Üí</a>
  </div>

</div><!-- fin .page -->

<button id="scrolltop" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚Üë</button>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  PROGRESS BAR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
window.addEventListener('scroll', () => {
  const max = document.body.scrollHeight - window.innerHeight;
  const pct = max > 0 ? (window.scrollY / max) * 100 : 0;
  document.getElementById('progress-bar').style.width = pct + '%';
  document.getElementById('scrolltop').classList.toggle('show', window.scrollY > 300);
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  DEMO CANVAS 2D
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const demoCanvas = document.getElementById('demo-canvas');
const ctx = demoCanvas.getContext('2d');
let demoType = 'elastique';
let demoAnim = null;
let demoState = {};

function resizeDemo() {
  demoCanvas.width  = demoCanvas.offsetWidth;
  demoCanvas.height = demoCanvas.offsetHeight;
}
resizeDemo();
window.addEventListener('resize', () => { resizeDemo(); resetDemoState(); drawDemo(); });

function resetDemoState() {
  const W = demoCanvas.width, H = demoCanvas.height;
  const r1 = 28, r2 = 34;
  const m1 = 1.5, m2 = 1.5;
  const v1 = 3.5, v2 = -2.5;
  let v1a, v2a;

  if (demoType === 'elastique') {
    v1a = ((m1-m2)*v1 + 2*m2*v2) / (m1+m2);
    v2a = ((m2-m1)*v2 + 2*m1*v1) / (m1+m2);
  } else if (demoType === 'parfait') {
    const vf = (m1*v1 + m2*v2)/(m1+m2);
    v1a = vf; v2a = vf;
  } else {
    const e = 0.6;
    v1a = (m1*v1 + m2*v2 + m2*e*(v2-v1))/(m1+m2);
    v2a = (m1*v1 + m2*v2 + m1*e*(v1-v2))/(m1+m2);
  }

  demoState = {
    x1: W*0.28, x2: W*0.72, y: H/2,
    r1, r2, m1, m2,
    vx1: v1*1.8, vx2: v2*1.8,
    v1a: v1a*1.8, v2a: v2a*1.8,
    collided: false,
    phase: 'approach', // approach -> collide -> separate -> done
    t: 0,
  };
}

function drawSphere(x, y, r, color, glow) {
  const grad = ctx.createRadialGradient(x-r*0.3, y-r*0.3, r*0.1, x, y, r);
  grad.addColorStop(0, lighten(color));
  grad.addColorStop(1, color);
  ctx.beginPath();
  ctx.arc(x, y, r, 0, Math.PI*2);
  if (glow) {
    ctx.shadowColor = color;
    ctx.shadowBlur = 18;
  }
  ctx.fillStyle = grad;
  ctx.fill();
  ctx.shadowBlur = 0;
}

function lighten(hex) {
  const n = parseInt(hex.slice(1), 16);
  const r = Math.min(255, ((n>>16)&0xff) + 80);
  const g = Math.min(255, ((n>>8)&0xff) + 80);
  const b = Math.min(255, (n&0xff) + 80);
  return `rgb(${r},${g},${b})`;
}

function drawArrow(x, y, vx, color) {
  if (Math.abs(vx) < 0.3) return;
  const dir = vx > 0 ? 1 : -1;
  const len = Math.min(Math.abs(vx) * 12, 70);
  const ax = x + dir * 36;
  const ex = ax + dir * len;
  ctx.beginPath();
  ctx.moveTo(ax, y);
  ctx.lineTo(ex, y);
  ctx.strokeStyle = color;
  ctx.lineWidth = 2.5;
  ctx.stroke();
  // T√™te fl√®che
  ctx.beginPath();
  ctx.moveTo(ex, y);
  ctx.lineTo(ex - dir*10, y-6);
  ctx.lineTo(ex - dir*10, y+6);
  ctx.closePath();
  ctx.fillStyle = color;
  ctx.fill();
}

function drawDemo() {
  const W = demoCanvas.width, H = demoCanvas.height;
  ctx.clearRect(0, 0, W, H);

  // Fond
  ctx.fillStyle = '#0d1829';
  ctx.fillRect(0, 0, W, H);

  // Rail
  ctx.beginPath();
  ctx.moveTo(10, H/2+20); ctx.lineTo(W-10, H/2+20);
  ctx.strokeStyle = '#1a3a5c'; ctx.lineWidth = 3; ctx.stroke();
  // Marqueurs
  for(let x=50; x<W-40; x+=60) {
    ctx.beginPath();
    ctx.moveTo(x, H/2+14); ctx.lineTo(x, H/2+26);
    ctx.strokeStyle = '#2a4a7a'; ctx.lineWidth = 1.5; ctx.stroke();
  }

  const s = demoState;
  const col1 = demoType==='parfait' && s.collided ? '#9a5fc7' : '#4a9eff';
  const col2 = demoType==='parfait' && s.collided ? '#9a5fc7' : '#ff6b35';

  drawSphere(s.x1, s.y, s.r1, col1, true);
  drawSphere(s.x2, s.y, s.r2, col2, true);
  drawArrow(s.x1, s.y - s.r1 - 8, s.vx1, '#63b3ed');
  drawArrow(s.x2, s.y - s.r2 - 8, s.vx2, '#ff7043');
}

function stepDemo() {
  const s = demoState;
  const dt = 0.016;
  s.t += dt;

  if (!s.collided) {
    s.x1 += s.vx1 * dt * 55;
    s.x2 += s.vx2 * dt * 55;
    const dist = s.x2 - s.x1;
    if (dist <= s.r1 + s.r2) {
      s.collided = true;
      s.vx1 = s.v1a;
      s.vx2 = s.v2a;
    }
  } else {
    s.x1 += s.vx1 * dt * 55;
    s.x2 += s.vx2 * dt * 55;
  }

  drawDemo();

  // Stop si hors canvas
  const W = demoCanvas.width;
  if (s.x1 < -50 || s.x1 > W+50 || s.x2 < -50 || s.x2 > W+50) {
    if (s.x1 < -50 && s.x2 > W+50) {
      cancelAnimationFrame(demoAnim);
      return;
    }
  }
  demoAnim = requestAnimationFrame(stepDemo);
}

function replayDemo() {
  cancelAnimationFrame(demoAnim);
  resetDemoState();
  demoAnim = requestAnimationFrame(stepDemo);
}

function setDemo(type, btn) {
  demoType = type;
  document.querySelectorAll('.demo-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  const labels = { elastique:'üîµ √âlastique ‚Äî e = 1', inelastique:'üü† In√©lastique ‚Äî e = 0.6', parfait:'‚ö´ Parfaitement in√©lastique ‚Äî e = 0' };
  document.getElementById('demo-label').textContent = labels[type];
  ['elastique','inelastique','parfait'].forEach(t => {
    document.getElementById('demo-info-'+t).style.display = t===type ? 'block' : 'none';
  });
  replayDemo();
}

// Lancer la d√©mo au chargement
resetDemoState();
demoAnim = requestAnimationFrame(stepDemo);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  QUIZ
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const feedback = {
  q1: { ok:'‚úÖ Exact ! Dans une collision √©lastique, les deux grandeurs sont conserv√©es.', ko:'‚ùå Non. Dans une collision √©lastique, DEUX grandeurs sont conserv√©es : la quantit√© de mouvement ET l\'√©nergie cin√©tique.' },
  q2: { ok:'‚úÖ Parfait ! Quand m‚ÇÅ = m‚ÇÇ en √©lastique, les vitesses s\'√©changent : v‚ÇÅ\' = 0 et v‚ÇÇ\' = +5 m/s.', ko:'‚ùå Non. Quand les masses sont √©gales en collision √©lastique, les vitesses s\'√©changent : v‚ÇÅ\' = 0 m/s.' },
  q3: { ok:'‚úÖ Correct ! e = 0 signifie que les corps s\'accrochent ‚Äî vitesse relative de s√©paration nulle.', ko:'‚ùå Non. Pour une collision parfaitement in√©lastique, e = 0 car les corps ne se s√©parent plus.' },
  q4: { ok:'‚úÖ Bravo ! v\' = (3√ó2 + 1√ó(‚àí2))/(3+1) = (6‚àí2)/4 = 4/4 = +1 m/s ‚úì', ko:'‚ùå Non. Applique : v\' = (m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ)/(m‚ÇÅ+m‚ÇÇ) = (3√ó2 + 1√ó(‚àí2))/(3+1) = 4/4 = +1 m/s.' },
};
let scores = {}, total = 0;

function answer(btn, correct, qid) {
  if (scores[qid] !== undefined) return;
  scores[qid] = correct ? 1 : 0;
  total = Object.values(scores).reduce((a,b) => a+b, 0);

  const opts = btn.parentElement.querySelectorAll('.quiz-opt');
  opts.forEach(o => o.disabled = true);
  btn.classList.add(correct ? 'correct' : 'wrong');

  const fb = document.getElementById('fb-' + qid);
  fb.textContent = correct ? feedback[qid].ok : feedback[qid].ko;
  fb.className = 'quiz-feedback show ' + (correct ? 'ok' : 'ko');

  if (Object.keys(scores).length === 4) {
    const box = document.getElementById('score-box');
    box.style.display = 'block';
    document.getElementById('score-val').textContent = total + '/4';
    const emojis = ['üòÖ','üôÇ','üòä','üéâ','üèÜ'];
    document.getElementById('score-emoji').textContent = emojis[total];
    const msgs = [
      'Relis le guide, tu vas y arriver !',
      'Pas mal ! Quelques r√©visions et tu seras au top.',
      'Bien jou√© ! Encore un effort pour la perfection.',
      'Excellent ! Tu ma√Ætrises tr√®s bien les collisions !',
      'Parfait ! Tu es pr√™t pour le labo r√©el ! üî¨'
    ];
    document.getElementById('score-msg').textContent = msgs[total];
    box.scrollIntoView({ behavior:'smooth', block:'center' });
  }
}
</script>
</body>
</html>
